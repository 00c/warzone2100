-- Generated by wz2lua (data file)
version(0) -- version of the script API this script is written for
-- slo: "GenExp.slo"


-- Generic VLO file template for start/expand levels

-- Cam3a-b.vlo

-- Next level stuff
-- cut out sub 3-3 for now
-- NextLev		LEVEL		"SUB_3_3S"	//points to next level
-- points to next level
NextLev = "CAM3C"

-- Define Players/Enemies
-- MAX 2. Must define same as number of enemy players given next
numEnemies = 1
enemy = {}
enemy[0] = 3
-- ally player with self (could be a different player number
alliancePlayer = 0
-- ally enemy with self (could be a different player number
allianceEnemy = {}
allianceEnemy[0] = 3
-- TRUE if want enemies to use each others targets, otherwise mark FALSE
allianceFlag = false

-- Starting Enemy Power
-- starting power values for each enemy listed above
power = {}
power[0] = 20000
-- power[1]	int		1000
-- 80
healthRetreat = {}
healthRetreat[0] = 65
-- default retreat for non-group units
healthRetreatX = {}
healthRetreatX[0] = 6976
-- player's LZ so can find them!
healthRetreatY = {}
healthRetreatY[0] = 15168
runOffFlag = true

-- Structure Limits
-- MAX 5. Must be same as number of limits given next
numStrucStats = 6
strucStat = {}
strucStat[0] = "A0PowerGenerator"
-- 5
strucLimit = {}
strucLimit[0] = 4
strucStat[1] = "A0ResourceExtractor"
strucLimit[1] = 200
strucStat[2] = "A0ResearchFacility"
-- 5
strucLimit[2] = 4
strucStat[3] = "A0LightFactory"
-- 5
strucLimit[3] = 4
strucStat[4] = "A0CommandCentre"
strucLimit[4] = 1
strucStat[5] = "A0ComDroidControl"
strucLimit[5] = 1

-- Initialisation
-- starting view centre (in world units)
centreX = 7360
centreY = 15296
-- scroll limits (in tile units)
scrollX1 = 0
scrollY1 = 0
scrollX2 = 64
scrollY2 = 130
-- starting radar: 0=zoomed out, 2=zoomed in
zoomLevel = 0

-- MAX 8. Number of Landing zones/areas can't build on (0 = LZ)
numLZ = 1
-- coords of LZ in tile units
LZX = {}
LZX[0] = 56
LZY = {}
LZY[0] = 120

-- -1 for no reinforcements
ReinforceTime = -1
-- 1 hour time limit (needs to be done if previous misison had a time limit!)
timeLimit = 36000

-- Transport exit and entry
transX = {}
transX[0] = 57
transY = {}
transY[0] = 127
transX[1] = 57
transY[1] = 127

-- starting technology for enemy
-- NOTE: need to set first number in array for enemy player
-- second number needs to correspond to numTechs[enemy]
-- MAX 2 enemies, 10 technologies
numTechs = {}
numTechs[0] = 25
startTech = {}
startTech[0] = {}
startTech[0][0] = "R-Defense-WallUpgrade09"
startTech[0][1] = "R-Struc-Materials09"
startTech[0][2] = "R-Struc-Factory-Upgrade06"
startTech[0][3] = "R-Struc-Factory-Cyborg-Upgrade06"
startTech[0][4] = "R-Struc-VTOLFactory-Upgrade06"
startTech[0][5] = "R-Struc-VTOLPad-Upgrade06"
startTech[0][6] = "R-Vehicle-Engine09"
startTech[0][7] = "R-Vehicle-Metals07"
startTech[0][8] = "R-Cyborg-Metals07"
startTech[0][9] = "R-Vehicle-Armor-Heat05"
startTech[0][10] = "R-Cyborg-Armor-Heat05"
startTech[0][11] = "R-Sys-Engineering03"
startTech[0][12] = "R-Vehicle-Prop-Hover02"
startTech[0][13] = "R-Vehicle-Prop-VTOL02"
startTech[0][14] = "R-Wpn-Bomb-Accuracy03"
startTech[0][15] = "R-Wpn-Energy-Accuracy01"
startTech[0][16] = "R-Wpn-Energy-Damage02"
startTech[0][17] = "R-Wpn-Energy-ROF02"
startTech[0][18] = "R-Wpn-Missile-Accuracy01"
startTech[0][19] = "R-Wpn-Missile-Damage02"
startTech[0][20] = "R-Wpn-Rail-Damage02"
startTech[0][21] = "R-Wpn-Rail-ROF02"
startTech[0][22] = "R-Sys-Sensor-Upgrade01"
startTech[0][23] = "R-Sys-NEXUSrepair"
startTech[0][24] = "R-Wpn-Flamer-Damage06"
-- Briefings
-- MAX 5. Needs to be same as the number of briefings given next
numBriefs = 3
brief = {}
brief[0] = "MB3_AB_MSG"
brief[1] = "MB3_AB_MSG2"
brief[2] = "MB3_AB_MSG3"
-- 0 remove after playing, 1 keep, 2 don't play immediately
briefVal = {}
briefVal[0] = 0
-- 0 remove after playing, 1 keep, 2 don't play immediately
briefVal[1] = 0
-- 0 remove after playing, 1 keep, 2 don't play immediately
briefVal[2] = 1
endMsg = "END"

-- Objectives
-- MAX 3. Needs to be the same as the number of objective blips given next
numObjectives = 0
-- objective[0]	INTMESSAGE	"FAST_OBJ1"
-- objectiveX[0]	int		1728	//doesn't use index to array, use world coords
-- objectiveY[0]	int		1216

-- Victory Conditions
-- NOTE: always assumes victory condition of: number of artifacts collected = victoryArt
-- 1	//number of victory conditions to be met (not including artifacts)
numVictory = 0
-- DOESN'T need to be same as number given next (these are set TRUE/FALSE)
-- if victory condition required. Can have 2 set to TRUE and numVictory = 1
-- This will then let player win if EITHER condition is true!
-- Use numVictory of 0 if just want player to get artifacts

-- these now done as integers NOT bools!! Use -1 for False, # for True (often an index to check!)
-- for this reason must specify ALL victory[]!
-- 1	//all enemy vehicles and structures need to be killed
victory = {}
victory[0] = -1
-- all players vehicles at REGION index # (eg LZ REGION)
victory[1] = -1
-- number of objectives to get to (uses objective[0] to objective[#])
victory[2] = -1
-- number of bases to destroy (uses base[0] to base[#])
victory[3] = -1
linkVictory = true

-- ***********************************************************************************************************
-- Player must first stop Nexus absorption thru researching resistance circuits, then destroy all enemy
-- ***********************************************************************************************************

-- Failure Conditions
-- Extra conditions above ALL player units and structures dead, or TIME LIMIT expired
-- Use -1 for False, # for True (often an index to check!)
-- group # index all got to REGION
fail = {}
fail[0] = -1
-- REGION index for above (these count as one condition!)
fail[1] = -1

-- Artifacts
-- number of artifacts required for victory (must be <= numArt)
victoryArt = 0
-- MAX 6. Number of artifacts in total (even if not in game, but added as extra research!)
numArt = 0

-- structures	[4]	STRUCTURE	666		//Bunker

-- ********************************************
-- DROIDS (by ID number)		MAX = 10
-- droids		[0]	DROID		3279		//testdroid

-- ********************************************
-- list of templates (by name)		 MAX = 20
-- ********************************************
-- edgemap units group 1
templates = {}
templates[0] = "NX-L-Flash-Hover"
templates[1] = "NX-M-Missile-A-T-Hover"
templates[2] = "NX-M-Link-Hover"
templates[3] = "NX-M-HvSam-Hover"
templates[4] = "NX-M-Rail2-Hover"
-- edgemap units group 0
templates[5] = "NX-Cyb-PulseLas-JUMP"
templates[6] = "NX-Cyb-Miss-JUMP"
templates[7] = "NX-M-Link-Hover"
templates[8] = "NX-M-HvSam-Hover"
templates[9] = "NX-Cyb-Rail1-JUMP"
-- scout units group 3
templates[10] = "NX-M-Rail2-Hover"
templates[11] = "NX-M-HvSam-Hover"
templates[12] = "NX-M-Link-Hover"
templates[13] = "NX-M-Strike-Hover"


-- ********************************************
-- coordinates (world coords)		MAX = 10
-- ********************************************
-- SW derricks
coordsX = {}
coordsX[0] = 1088
coordsY = {}
coordsY[0] = 15168
-- NE derricks
coordsX[1] = 6848
coordsY[1] = 9024
-- west door to player base
coordsX[2] = 5952
coordsY[2] = 13760
-- North door to player base (derricks)
coordsX[3] = 6720
coordsY[3] = 10560
-- Player's LZ
coordsX[4] = 7232
coordsY[4] = 14656
-- Retreat to South of pass
coordsX[5] = 3520
coordsY[5] = 10944
-- Edge position to come in at group 0
coordsX[6] = 64
coordsY[6] = 10816
-- Edge position to come in at group 1
coordsX[7] = 64
coordsY[7] = 2624

-- ********************************************
-- regions (world coords)		MAX = 20
-- ********************************************
-- enemy base1 blip
regionsX1 = {}
regionsX1[0] = 2624
regionsY1 = {}
regionsY1[0] = 448
regionsX2 = {}
regionsX2[0] = 3648
regionsY2 = {}
regionsY2[0] = 1344
-- enemy base2 blip
regionsX1[1] = 4800
regionsY1[1] = 1472
regionsX2[1] = 6464
regionsY2[1] = 2880
-- enemy base3 blip
regionsX1[2] = 4288
regionsY1[2] = 5952
regionsX2[2] = 6208
regionsY2[2] = 7488

-- base 1 Factory start
regionsX1[3] = 320
-- crossed by 1st derrick
regionsY1[3] = 4160
regionsX2[3] = 2368
regionsY2[3] = 5184
-- base 2 Factory start
regionsX1[4] = 1984
-- round first corner near base1
regionsY1[4] = 832
regionsX2[4] = 3008
regionsY2[4] = 2368
-- base 3 Factory start
regionsX1[5] = 3904
-- crossed by radar tower
regionsY1[5] = 2496
regionsX2[5] = 5312
regionsY2[5] = 4288

-- region group 0 (along valley)
regionsX1[6] = 704
regionsY1[6] = 4544
-- include guys on hill!
regionsX2[6] = 1728
regionsY2[6] = 4800
-- region group 1
regionsX1[7] = 576
regionsY1[7] = 4032
regionsX2[7] = 1728
regionsY2[7] = 4543
-- region group 2
regionsX1[8] = 576
regionsY1[8] = 3136
regionsX2[8] = 1216
regionsY2[8] = 4032
-- region group 3
regionsX1[9] = 576
regionsY1[9] = 1728
regionsX2[9] = 1600
regionsY2[9] = 4032
-- region group 4
regionsX1[10] = 704
regionsY1[10] = 704
regionsX2[10] = 2112
regionsY2[10] = 1728

-- region group 5 (radar defenders)
regionsX1[11] = 1728
regionsY1[11] = 320
regionsX2[11] = 6208
regionsY2[11] = 3904
-- protect region group 5 (radar object)
regionsX1[12] = 4032
regionsY1[12] = 2368
regionsX2[12] = 4800
regionsY2[12] = 3136

-- ********************************************
-- sector Stuff
-- ********************************************
-- 3A SW Quad
sectorsX1 = {}
sectorsX1[0] = 64
sectorsY1 = {}
sectorsY1[0] = 12288
sectorsX2 = {}
sectorsX2[0] = 4096
sectorsY2 = {}
sectorsY2[0] = 16384
-- 3A SE Quad
sectorsX1[1] = 4096
sectorsY1[1] = 12288
sectorsX2[1] = 8000
sectorsY2[1] = 16384
-- 3A NE Quad
sectorsX1[2] = 4096
sectorsY1[2] = 8192
sectorsX2[2] = 8000
sectorsY2[2] = 12288
-- 3A NW Quad
sectorsX1[3] = 64
sectorsY1[3] = 8192
sectorsX2[3] = 4096
sectorsY2[3] = 12288
-- 3B SW Quad
sectorsX1[4] = 64
sectorsY1[4] = 4096
sectorsX2[4] = 4096
sectorsY2[4] = 8192
-- 3B NW Quad
sectorsX1[5] = 64
sectorsY1[5] = 64
sectorsX2[5] = 4096
sectorsY2[5] = 4096
-- 3B NE Quad
sectorsX1[6] = 4096
sectorsY1[6] = 64
sectorsX2[6] = 8000
sectorsY2[6] = 4096
-- 3B SE Quad
sectorsX1[7] = 4096
sectorsY1[7] = 4096
sectorsX2[7] = 8000
sectorsY2[7] = 8192

-- ********************************************
-- Enemy Base Blips
-- ********************************************
-- MAX = 5. Must be same as number of bases listed next
numBases = 0


-- basePlayer	[3]	int		7		//do radar as a base
-- baseMsg		[3]	INTMESSAGE	"FAST_BASE4"
-- baseRegion	[3]	int		12
-- baseWav1	[3]	int		1		//index to baseSnd	Threat to project
-- baseWav2	[3]	int		-1		//-1 = no sound

-- ********************************************
-- Enemy Groups
-- ********************************************
-- group MAX = 10
numGroups = 4
-- edge group 0
-- 1	//0 = Ambush/Patrol, 1 = Defence, 2 = Scout, 3 = Attack...
grpType = {}
grpType[0] = 0
-- player number (Nexus)
grpPlayer = {}
grpPlayer[0] = 0
-- index in regions array
grpRegion = {}
grpRegion[0] = -1
-- 20s time trigger (always make >= 0 for defence forces)
grpTimeGo = {}
grpTimeGo[0] = 1
-- index into regions to protect (usually a base blip region)
grpRegionGo = {}
grpRegionGo[0] = -1
-- player number to cross trigger region (may not need?)
grpWhoGo = {}
grpWhoGo[0] = 0
-- very timid! morale = 1%
grpMorale = {}
grpMorale[0] = 90
-- leadership value
grpLeadership = {}
grpLeadership[0] = 0
-- retreat (index in coords array) base1 assembly
grpRetreatXY = {}
grpRetreatXY[0] = 5
-- index in sectors array (depends on grpType)
grpPosStart = {}
grpPosStart[0] = 0
-- Minimum index in coords array
grpPosMin = {}
grpPosMin[0] = 0
-- Maximum index in coords array
grpPosMax = {}
grpPosMax[0] = 4
-- Step increase for next 'waypoint'
grpPosStep = {}
grpPosStep[0] = 1
-- 0 = stop, 1 = loop, 2 = pingpong, 3 = random thru waypoints
grpPosType = {}
grpPosType[0] = 3
-- index structure to reinforce group. -1 = any factory.
grpFactory = {}
grpFactory[0] = 0
-- ideal size. If less than this factory will reinforce
grpIdealSize = {}
grpIdealSize[0] = 99

-- edge group 1
-- 1	//0 = Ambush/Patrol, 1 = Defence, 2 = Scout, 3 = Attack...
grpType[1] = 0
-- player number (Nexus)
grpPlayer[1] = 0
-- index in regions array
grpRegion[1] = -1
-- 20s time trigger (always make >= 0 for defence forces)
grpTimeGo[1] = 17
-- index into regions to protect (usually a base blip region)
grpRegionGo[1] = -1
-- player number to cross trigger region (may not need?)
grpWhoGo[1] = 0
-- very timid! morale = 1%
grpMorale[1] = 90
-- leadership value
grpLeadership[1] = 0
-- retreat (index in coords array) base1 assembly
grpRetreatXY[1] = 5
-- index in sectors array (depends on grpType)
grpPosStart[1] = 0
-- Minimum index in coords array
grpPosMin[1] = 0
-- Maximum index in coords array
grpPosMax[1] = 4
-- Step increase for next 'waypoint'
grpPosStep[1] = 1
-- 0 = stop, 1 = loop, 2 = pingpong, 3 = random thru waypoints
grpPosType[1] = 3
-- index structure to reinforce group. -1 = any factory.
grpFactory[1] = 1
-- ideal size. If less than this factory will reinforce
grpIdealSize[1] = 99

-- edge group 2
-- 1	//0 = Ambush/Patrol, 1 = Defence, 2 = Scout, 3 = Attack...
grpType[2] = 0
-- player number (Nexus)
grpPlayer[2] = 0
-- index in regions array
grpRegion[2] = -1
-- Before factory fix (hopefully)
grpTimeGo[2] = 100
-- index into regions to protect (usually a base blip region)
grpRegionGo[2] = -1
-- player number to cross trigger region (may not need?)
grpWhoGo[2] = 0
-- very timid! morale = 1%
grpMorale[2] = 90
-- leadership value
grpLeadership[2] = 0
-- retreat (index in coords array) base1 assembly
grpRetreatXY[2] = 5
-- index in sectors array (depends on grpType)
grpPosStart[2] = 2
-- Minimum index in coords array
grpPosMin[2] = 2
-- Maximum index in coords array
grpPosMax[2] = 4
-- Step increase for next 'waypoint'
grpPosStep[2] = 1
-- 0 = stop, 1 = loop, 2 = pingpong, 3 = random thru waypoints
grpPosType[2] = 2
-- index structure to reinforce group. -1 = any factory.
grpFactory[2] = 2
-- ideal size. If less than this factory will reinforce
grpIdealSize[2] = 99

-- edge group 3 Scouts
-- 0 = Ambush/Patrol, 1 = Defence, 2 = Scout, 3 = Attack...
grpType[3] = 2
-- player number (Nexus)
grpPlayer[3] = 0
-- index in regions array
grpRegion[3] = -1
-- 20s time trigger (always make >= 0 for defence forces)
grpTimeGo[3] = 0
-- index into regions to protect (usually a base blip region)
grpRegionGo[3] = -1
-- player number to cross trigger region (may not need?)
grpWhoGo[3] = 0
-- very timid! morale = 1%
grpMorale[3] = 90
-- leadership value
grpLeadership[3] = 0
-- retreat (index in SECTOR array) base1 assembly
grpRetreatXY[3] = 3
-- index in sectors array (depends on grpType)
grpPosStart[3] = 0
-- Minimum index in coords array
grpPosMin[3] = 0
-- Maximum index in coords array
grpPosMax[3] = 7
-- Step increase for next 'waypoint'
grpPosStep[3] = 1
-- 0 = stop, 1 = loop, 2 = pingpong, 3 = random thru waypoints
grpPosType[3] = 2
-- index structure to reinforce group. -1 = any factory.
grpFactory[3] = 3
-- ideal size. If less than this factory will reinforce
grpIdealSize[3] = 99

-- Factories
-- MAX = 10
numFactories = 4

-- group 0 factory
-- phantom factory, uses edge of map
factID = {}
factID[0] = -1
-- index to coords (edge of map)
factAssXY = {}
factAssXY[0] = 6
-- immediate before starting production in 10s
factTimeGo = {}
factTimeGo[0] = 2
-- trap region to trigger transport
factRegionGo = {}
factRegionGo[0] = -1
-- index to starting template
factTempMin = {}
factTempMin[0] = 5
-- index to maximum template
factTempMax = {}
factTempMax[0] = 9
-- 32 mins .Time in 10s for factory to produce again
factEvery = {}
factEvery[0] = 192

-- group 1 factory
-- phantom factory, uses edge of map
factID[1] = -1
-- index to coords (edge of map)
factAssXY[1] = 7
-- 3mins before starting production in 10s
factTimeGo[1] = 18
-- trap region to trigger transport
factRegionGo[1] = -1
-- index to starting template
factTempMin[1] = 0
-- index to maximum template
factTempMax[1] = 4
-- never mins .Time in 10s for factory to produce again
factEvery[1] = 10000

-- group 2 factory
-- phantom factory, uses edge of map
factID[2] = -1
-- index to coords (edge of map)
factAssXY[2] = 7
-- 20mins before starting production in 10s
factTimeGo[2] = 120
-- trap region to trigger transport
factRegionGo[2] = -1
-- index to starting template
factTempMin[2] = 0
-- index to maximum template
factTempMax[2] = 4
-- Never mins .Time in 10s for factory to produce again
factEvery[2] = 10000

-- scouts factory
-- phantom factory, uses edge of map
factID[3] = -1
-- index to coords (edge of map)
factAssXY[3] = 6
-- 10sec before starting production in 10s
factTimeGo[3] = 1
-- trap region to trigger transport
factRegionGo[3] = -1
-- index to starting template
factTempMin[3] = 10
-- index to maximum template
factTempMax[3] = 13
-- 22 mins .Time in 10s for factory to produce again
factEvery[3] = 132


-- 'Globals'
-- These should be same in each file, but may need slight alterations
-- player's player number
player = 0
crate = "Crate"
-- 171				//range to artifact about 1.5 tiles
artRange = 200
-- range to objective 5 Tiles
objectiveRange = 640
-- range to waypoint 2ish tiles
wayRange = 300
-- range for target spotting
targetRange = 768
-- maximum number of targets to store for each enemy
targetMax = 4
-- mission failed
lostSnd = "pcv470.ogg"
-- Base Under Attack
attackSnd1 = "pcv337.ogg"
-- artifact sounds
artSnd1 = "pcv351.ogg"
artSnd2 = "pcv352.ogg"
-- for enemy transports
transporter = "Transporter"

-- base WAVs. MAX = 5
-- Enemy Base Detected
baseSnd = {}
baseSnd[0] = "pcv379.ogg"
-- Enemy Base Detected
baseSnd[1] = "pcv379.ogg"
-- Enemy Base Detected
baseSnd[2] = "pcv379.ogg"
-- Enemy base eradicated
baseSnd[3] = "pcv394.ogg"

--run the code
dofile('genexp_logic.lua')
